21:47:36.932 [restartedMain] DEBUG c.g.GyjiotApplication - [logStarting,56] - Running with Spring Boot v2.5.15, Spring v5.3.39
22:15:04.254 [restartedMain] DEBUG c.g.GyjiotApplication - [logStarting,56] - Running with Spring Boot v2.5.15, Spring v5.3.39
22:15:14.398 [restartedMain] DEBUG c.g.s.m.S.selectConfigList - [debug,137] - ==>  Preparing: select config_id, config_name, config_key, config_value, config_type, create_by, create_time, update_by, update_time, remark from sys_config
22:15:14.707 [restartedMain] DEBUG c.g.s.m.S.selectConfigList - [debug,137] - ==> Parameters: 
22:15:15.719 [restartedMain] DEBUG c.g.s.m.S.selectConfigList - [debug,137] - <==      Total: 5
22:15:16.830 [restartedMain] DEBUG c.g.f.s.f.JwtAuthenticationTokenFilter - [init,242] - Filter 'jwtAuthenticationTokenFilter' configured for use
22:15:17.001 [restartedMain] DEBUG c.g.s.m.S.selectDictDataList - [debug,137] - ==>  Preparing: select dict_code, dict_sort, dict_label, dict_value, dict_type, css_class, list_class, is_default, status, create_by, create_time, remark from sys_dict_data WHERE status = ? order by dict_sort asc
22:15:17.065 [restartedMain] DEBUG c.g.s.m.S.selectDictDataList - [debug,137] - ==> Parameters: 0(String)
22:15:17.161 [restartedMain] DEBUG c.g.s.m.S.selectDictDataList - [debug,137] - <==      Total: 307
22:15:18.746 [restartedMain] DEBUG c.g.i.m.D.selectJobAll - [debug,137] - ==>  Preparing: select job_id, job_name, job_group,serial_number, device_id,device_name,actions,alert_trigger,is_advance, cron_expression, misfire_policy, concurrent, status, create_by, create_time, remark, job_type, product_id, product_name, scene_id, alert_id from iot_device_job
22:15:18.751 [restartedMain] DEBUG c.g.i.m.D.selectJobAll - [debug,137] - ==> Parameters: 
22:15:18.776 [restartedMain] DEBUG c.g.i.m.D.selectJobAll - [debug,137] - <==      Total: 2
22:15:18.822 [restartedMain] DEBUG c.g.q.m.S.selectJobAll - [debug,137] - ==>  Preparing: select job_id, job_name, job_group, invoke_target, cron_expression, misfire_policy, concurrent, status, create_by, create_time, remark from sys_job
22:15:18.828 [restartedMain] DEBUG c.g.q.m.S.selectJobAll - [debug,137] - ==> Parameters: 
22:15:18.846 [restartedMain] DEBUG c.g.q.m.S.selectJobAll - [debug,137] - <==      Total: 3
22:15:19.198 [restartedMain] DEBUG c.g.s.m.M.selectMediaServerBytenantId - [debug,137] - ==>  Preparing: select id, server_id, tenant_id, tenant_name, enabled, protocol, ip, domain, hookurl, secret, port_http, port_https, port_rtmp, port_rtsp, rtp_proxy_port, rtp_enable, rtp_port_range, record_port, auto_config, status, del_flag, create_by, create_time, update_by, update_time, remark from media_server where tenant_id = ?
22:15:19.203 [restartedMain] DEBUG c.g.s.m.M.selectMediaServerBytenantId - [debug,137] - ==> Parameters: 1(Long)
22:15:19.219 [restartedMain] DEBUG c.g.s.m.M.selectMediaServerBytenantId - [debug,137] - <==      Total: 1
22:15:19.362 [restartedMain] DEBUG c.g.s.u.ZlmApiUtils - [sendPost,55] - http://192.168.2.120:8082/index/api/getServerConfig
22:15:24.589 [restartedMain] DEBUG c.g.s.m.S.selectSipConfigList - [debug,137] - ==>  Preparing: select id, product_id, product_name, enabled, isdefault, seniorSdp, domain_alias, server_sipid, password, ip, port, del_flag, create_by, create_time, update_by, update_time, remark from sip_config
22:15:24.593 [restartedMain] DEBUG c.g.s.m.S.selectSipConfigList - [debug,137] - ==> Parameters: 
22:15:24.604 [restartedMain] DEBUG c.g.s.m.S.selectSipConfigList - [debug,137] - <==      Total: 4
22:15:24.608 [restartedMain] DEBUG c.g.s.m.S.updateSipConfig - [debug,137] - ==>  Preparing: update sip_config SET product_id = ?, enabled = ?, isdefault = ?, domain_alias = ?, server_sipid = ?, password = ?, ip = ?, port = ?, del_flag = ?, create_time = ?, update_by = ?, update_time = ? where id = ?
22:15:24.615 [restartedMain] DEBUG c.g.s.m.S.updateSipConfig - [debug,137] - ==> Parameters: 117(Long), 1(Integer), 1(Integer), 3402000000(String), 34020000002000000001(String), 12345678(String), 0.0.0.0(String), 35060(Integer), 0(String), 2023-03-16 09:26:18.0(Timestamp), (String), 2023-03-16 09:26:24.0(Timestamp), 38(Long)
22:15:24.621 [restartedMain] DEBUG c.g.s.m.S.updateSipConfig - [debug,137] - <==    Updates: 1
22:15:24.625 [restartedMain] DEBUG c.g.s.m.S.updateSipConfig - [debug,137] - ==>  Preparing: update sip_config SET product_id = ?, enabled = ?, isdefault = ?, domain_alias = ?, server_sipid = ?, password = ?, ip = ?, port = ?, del_flag = ?, create_time = ?, update_by = ? where id = ?
22:15:24.628 [restartedMain] DEBUG c.g.s.m.S.updateSipConfig - [debug,137] - ==> Parameters: 118(Long), 1(Integer), 1(Integer), 3402000000(String), 34020000002000000001(String), 12345678(String), 0.0.0.0(String), 35060(Integer), 0(String), 2023-04-11 09:11:54.0(Timestamp), (String), 39(Long)
22:15:24.631 [restartedMain] DEBUG c.g.s.m.S.updateSipConfig - [debug,137] - <==    Updates: 1
22:15:24.633 [restartedMain] DEBUG c.g.s.m.S.updateSipConfig - [debug,137] - ==>  Preparing: update sip_config SET product_id = ?, enabled = ?, isdefault = ?, domain_alias = ?, server_sipid = ?, password = ?, ip = ?, port = ?, del_flag = ?, create_time = ?, update_by = ? where id = ?
22:15:24.636 [restartedMain] DEBUG c.g.s.m.S.updateSipConfig - [debug,137] - ==> Parameters: 135(Long), 1(Integer), 1(Integer), 3402000000(String), 34020000002000000001(String), 12345678(String), 0.0.0.0(String), 35060(Integer), 0(String), 2024-01-08 09:14:35.0(Timestamp), (String), 41(Long)
22:15:24.639 [restartedMain] DEBUG c.g.s.m.S.updateSipConfig - [debug,137] - <==    Updates: 1
22:15:24.641 [restartedMain] DEBUG c.g.s.m.S.updateSipConfig - [debug,137] - ==>  Preparing: update sip_config SET product_id = ?, enabled = ?, isdefault = ?, domain_alias = ?, server_sipid = ?, password = ?, ip = ?, port = ?, del_flag = ?, create_time = ?, update_by = ? where id = ?
22:15:24.643 [restartedMain] DEBUG c.g.s.m.S.updateSipConfig - [debug,137] - ==> Parameters: 131(Long), 0(Integer), 0(Integer), 3402000000(String), 34020000002000000001(String), 12345678(String), 0.0.0.0(String), 35060(Integer), 0(String), 2025-03-19 04:26:04.0(Timestamp), (String), 42(Long)
22:15:24.645 [restartedMain] DEBUG c.g.s.m.S.updateSipConfig - [debug,137] - <==    Updates: 1
22:15:35.822 [restartedMain] DEBUG c.g.m.PubMqttClient - [initialize,59] - =>内部mqtt客户端连接中...
22:15:36.049 [MQTT-BROKER-6-1] DEBUG c.g.m.h.MqttConnect - [handler,44] - =>客户端:server-1764731735789 连接:MqttConnectMessage[fixedHeader=MqttFixedHeader[messageType=CONNECT, isDup=false, qosLevel=AT_MOST_ONCE, isRetain=false, remainingLength=48], variableHeader=MqttConnectVariableHeader[name=MQTT, version=4, hasUserName=true, hasPassword=true, isWillRetain=false, isWillFlag=false, isCleanSession=true, keepAliveTimeSeconds=30], payload=MqttConnectPayload[clientIdentifier=server-1764731735789, willTopic=null, willMessage=null, userName=gyjiot, password=[103, 121, 106, 105, 111, 116]]]
22:15:36.059 [MQTT-BROKER-6-1] DEBUG c.g.m.m.SessionManger - [removeClient,65] - =>移除客户端,clientId=server-1764731735789
22:15:36.061 [MQTT-BROKER-6-1] DEBUG c.g.m.m.SessionManger - [buildSession,39] - =>新客户端连接，clientId=server-1764731735789
22:16:00.041 [quartzScheduler_Worker-1] DEBUG c.g.s.m.S.selectOfflineSipDevice - [debug,137] - ==>  Preparing: select device_id, product_id, product_name, device_sip_id, device_name, manufacturer, model, firmware, transport, stream_mode, online, register_time, last_connect_time, active_time, ip, port, host_address, del_flag, create_by, create_time, update_by, update_time, remark from sip_device WHERE CURRENT_TIMESTAMP > DATE_ADD(last_connect_time, INTERVAL 90 SECOND)
22:16:00.041 [quartzScheduler_Worker-2] DEBUG c.g.i.m.D.selectDeviceActive - [debug,137] - ==>  Preparing: select d.status , d.serial_number as serialNumber, d.rssi,d.is_shadow, d.product_id from iot_device d inner join iot_product p on d.product_id = p.product_id where d.status in (3,4) and p.transport not in ('GB28181') and d.del_flag = '0' and p.del_flag = '0'
22:16:00.046 [quartzScheduler_Worker-1] DEBUG c.g.s.m.S.selectOfflineSipDevice - [debug,137] - ==> Parameters: 
22:16:00.054 [quartzScheduler_Worker-2] DEBUG c.g.i.m.D.selectDeviceActive - [debug,137] - ==> Parameters: 
22:16:00.073 [quartzScheduler_Worker-1] DEBUG c.g.s.m.S.selectOfflineSipDevice - [debug,137] - <==      Total: 7
22:16:00.079 [quartzScheduler_Worker-2] DEBUG c.g.i.m.D.selectDeviceActive - [debug,137] - <==      Total: 2
22:16:00.083 [quartzScheduler_Worker-1] DEBUG c.g.i.m.D.selectDeviceBySerialNumber - [debug,137] - ==>  Preparing: select device_id, device_name, product_id, product_name, user_id, user_name, tenant_id, tenant_name, serial_number,gw_dev_code, firmware_version, status, rssi,is_shadow ,is_simulate,location_way,things_model_value,network_address, network_ip, longitude, latitude, active_time, create_time, update_time, img_url,summary,remark,slave_id from iot_device where serial_number = ?
22:16:00.087 [quartzScheduler_Worker-2] DEBUG c.g.q.m.S.insertJobLog - [debug,137] - ==>  Preparing: insert into sys_job_log( job_name, job_group, invoke_target, job_message, status, create_time )values( ?, ?, ?, ?, ?, sysdate() )
22:16:00.088 [quartzScheduler_Worker-1] DEBUG c.g.i.m.D.selectDeviceBySerialNumber - [debug,137] - ==> Parameters: 13030300001170000008(String)
22:16:00.096 [quartzScheduler_Worker-1] DEBUG c.g.i.m.D.selectDeviceBySerialNumber - [debug,137] - <==      Total: 0
22:16:00.107 [quartzScheduler_Worker-1] DEBUG c.g.s.m.S.selectSipDeviceChannelByDeviceSipId - [debug,137] - ==>  Preparing: select id, tenant_id, tenant_name, product_id, product_name, user_id, user_name, device_sip_id, channel_sip_id, channel_name, register_time, device_type, channel_type, cityCode, civilCode, manufacture, model, owner, block, address, parentId, ipAddress, port, password, PTZType, PTZTypeText, status, longitude, latitude, streamId, subCount, parental, hasAudio, del_flag, create_by, create_time, update_by, update_time, remark from sip_device_channel where device_sip_id = ?
22:16:00.113 [quartzScheduler_Worker-1] DEBUG c.g.s.m.S.selectSipDeviceChannelByDeviceSipId - [debug,137] - ==> Parameters: 13030300001170000008(String)
22:16:00.125 [quartzScheduler_Worker-1] DEBUG c.g.s.m.S.selectSipDeviceChannelByDeviceSipId - [debug,137] - <==      Total: 0
22:16:00.138 [quartzScheduler_Worker-1] DEBUG c.g.i.m.D.selectDeviceBySerialNumber - [debug,137] - ==>  Preparing: select device_id, device_name, product_id, product_name, user_id, user_name, tenant_id, tenant_name, serial_number,gw_dev_code, firmware_version, status, rssi,is_shadow ,is_simulate,location_way,things_model_value,network_address, network_ip, longitude, latitude, active_time, create_time, update_time, img_url,summary,remark,slave_id from iot_device where serial_number = ?
22:16:00.139 [quartzScheduler_Worker-1] DEBUG c.g.i.m.D.selectDeviceBySerialNumber - [debug,137] - ==> Parameters: 11010100001320000001(String)
22:16:00.146 [quartzScheduler_Worker-1] DEBUG c.g.i.m.D.selectDeviceBySerialNumber - [debug,137] - <==      Total: 0
22:16:00.152 [quartzScheduler_Worker-1] DEBUG c.g.s.m.S.selectSipDeviceChannelByDeviceSipId - [debug,137] - ==>  Preparing: select id, tenant_id, tenant_name, product_id, product_name, user_id, user_name, device_sip_id, channel_sip_id, channel_name, register_time, device_type, channel_type, cityCode, civilCode, manufacture, model, owner, block, address, parentId, ipAddress, port, password, PTZType, PTZTypeText, status, longitude, latitude, streamId, subCount, parental, hasAudio, del_flag, create_by, create_time, update_by, update_time, remark from sip_device_channel where device_sip_id = ?
22:16:00.156 [quartzScheduler_Worker-1] DEBUG c.g.s.m.S.selectSipDeviceChannelByDeviceSipId - [debug,137] - ==> Parameters: 11010100001320000001(String)
22:16:00.172 [quartzScheduler_Worker-1] DEBUG c.g.s.m.S.selectSipDeviceChannelByDeviceSipId - [debug,137] - <==      Total: 1
22:16:00.191 [quartzScheduler_Worker-1] DEBUG c.g.s.m.S.updateSipDeviceChannel - [debug,137] - ==>  Preparing: update sip_device_channel SET tenant_id = ?, tenant_name = ?, product_id = ?, product_name = ?, user_id = ?, device_sip_id = ?, channel_sip_id = ?, channel_name = ?, register_time = ?, device_type = ?, channel_type = ?, cityCode = ?, civilCode = ?, manufacture = ?, model = ?, owner = ?, address = ?, parentId = ?, ipAddress = ?, port = ?, PTZType = ?, status = ?, longitude = ?, latitude = ?, subCount = ?, parental = ?, hasAudio = ?, del_flag = ?, create_time = ?, update_by = ? where channel_sip_id = ?
22:16:00.197 [quartzScheduler_Worker-1] DEBUG c.g.s.m.S.updateSipDeviceChannel - [debug,137] - ==> Parameters: 1(Long), admin(String), 135(Long), 视频监控(String), 0(Long), 11010100001320000001(String), 11010100001320000001(String), IPdome(String), 2024-01-09 10:35:00.0(Timestamp), 132(String), 132(String), 北京市/市辖区/东城区(String), 3402000000(String), Hikvision(String), IP Camera(String), Owner(String), Address(String), 34020000002000000001(String), (String), 0(Integer), 0(Long), 3(Integer), 0.0(BigDecimal), 0.0(BigDecimal), 0(Long), 0(Integer), 0(Integer), 0(String), 2024-01-08 09:15:57.0(Timestamp), (String), 11010100001320000001(String)
22:16:00.207 [quartzScheduler_Worker-1] DEBUG c.g.s.m.S.updateSipDeviceChannel - [debug,137] - <==    Updates: 1
22:16:00.209 [quartzScheduler_Worker-1] DEBUG c.g.i.m.D.selectDeviceBySerialNumber - [debug,137] - ==>  Preparing: select device_id, device_name, product_id, product_name, user_id, user_name, tenant_id, tenant_name, serial_number,gw_dev_code, firmware_version, status, rssi,is_shadow ,is_simulate,location_way,things_model_value,network_address, network_ip, longitude, latitude, active_time, create_time, update_time, img_url,summary,remark,slave_id from iot_device where serial_number = ?
22:16:00.213 [quartzScheduler_Worker-1] DEBUG c.g.i.m.D.selectDeviceBySerialNumber - [debug,137] - ==> Parameters: 11010200001320000017(String)
22:16:00.218 [quartzScheduler_Worker-1] DEBUG c.g.i.m.D.selectDeviceBySerialNumber - [debug,137] - <==      Total: 0
22:16:00.222 [quartzScheduler_Worker-1] DEBUG c.g.s.m.S.selectSipDeviceChannelByDeviceSipId - [debug,137] - ==>  Preparing: select id, tenant_id, tenant_name, product_id, product_name, user_id, user_name, device_sip_id, channel_sip_id, channel_name, register_time, device_type, channel_type, cityCode, civilCode, manufacture, model, owner, block, address, parentId, ipAddress, port, password, PTZType, PTZTypeText, status, longitude, latitude, streamId, subCount, parental, hasAudio, del_flag, create_by, create_time, update_by, update_time, remark from sip_device_channel where device_sip_id = ?
22:16:00.224 [quartzScheduler_Worker-1] DEBUG c.g.s.m.S.selectSipDeviceChannelByDeviceSipId - [debug,137] - ==> Parameters: 11010200001320000017(String)
22:16:00.230 [quartzScheduler_Worker-1] DEBUG c.g.s.m.S.selectSipDeviceChannelByDeviceSipId - [debug,137] - <==      Total: 0
22:16:00.235 [quartzScheduler_Worker-1] DEBUG c.g.i.m.D.selectDeviceBySerialNumber - [debug,137] - ==>  Preparing: select device_id, device_name, product_id, product_name, user_id, user_name, tenant_id, tenant_name, serial_number,gw_dev_code, firmware_version, status, rssi,is_shadow ,is_simulate,location_way,things_model_value,network_address, network_ip, longitude, latitude, active_time, create_time, update_time, img_url,summary,remark,slave_id from iot_device where serial_number = ?
22:16:00.238 [quartzScheduler_Worker-1] DEBUG c.g.i.m.D.selectDeviceBySerialNumber - [debug,137] - ==> Parameters: 12010100001320000003(String)
22:16:00.243 [quartzScheduler_Worker-1] DEBUG c.g.i.m.D.selectDeviceBySerialNumber - [debug,137] - <==      Total: 0
22:16:00.246 [quartzScheduler_Worker-1] DEBUG c.g.s.m.S.selectSipDeviceChannelByDeviceSipId - [debug,137] - ==>  Preparing: select id, tenant_id, tenant_name, product_id, product_name, user_id, user_name, device_sip_id, channel_sip_id, channel_name, register_time, device_type, channel_type, cityCode, civilCode, manufacture, model, owner, block, address, parentId, ipAddress, port, password, PTZType, PTZTypeText, status, longitude, latitude, streamId, subCount, parental, hasAudio, del_flag, create_by, create_time, update_by, update_time, remark from sip_device_channel where device_sip_id = ?
22:16:00.253 [quartzScheduler_Worker-1] DEBUG c.g.s.m.S.selectSipDeviceChannelByDeviceSipId - [debug,137] - ==> Parameters: 12010100001320000003(String)
22:16:00.267 [quartzScheduler_Worker-1] DEBUG c.g.s.m.S.selectSipDeviceChannelByDeviceSipId - [debug,137] - <==      Total: 0
22:16:00.280 [quartzScheduler_Worker-1] DEBUG c.g.i.m.D.selectDeviceBySerialNumber - [debug,137] - ==>  Preparing: select device_id, device_name, product_id, product_name, user_id, user_name, tenant_id, tenant_name, serial_number,gw_dev_code, firmware_version, status, rssi,is_shadow ,is_simulate,location_way,things_model_value,network_address, network_ip, longitude, latitude, active_time, create_time, update_time, img_url,summary,remark,slave_id from iot_device where serial_number = ?
22:16:00.285 [quartzScheduler_Worker-1] DEBUG c.g.i.m.D.selectDeviceBySerialNumber - [debug,137] - ==> Parameters: 13030100001320000001(String)
22:16:00.289 [quartzScheduler_Worker-1] DEBUG c.g.i.m.D.selectDeviceBySerialNumber - [debug,137] - <==      Total: 0
22:16:00.291 [quartzScheduler_Worker-1] DEBUG c.g.s.m.S.selectSipDeviceChannelByDeviceSipId - [debug,137] - ==>  Preparing: select id, tenant_id, tenant_name, product_id, product_name, user_id, user_name, device_sip_id, channel_sip_id, channel_name, register_time, device_type, channel_type, cityCode, civilCode, manufacture, model, owner, block, address, parentId, ipAddress, port, password, PTZType, PTZTypeText, status, longitude, latitude, streamId, subCount, parental, hasAudio, del_flag, create_by, create_time, update_by, update_time, remark from sip_device_channel where device_sip_id = ?
22:16:00.292 [quartzScheduler_Worker-1] DEBUG c.g.s.m.S.selectSipDeviceChannelByDeviceSipId - [debug,137] - ==> Parameters: 13030100001320000001(String)
22:16:00.294 [quartzScheduler_Worker-1] DEBUG c.g.s.m.S.selectSipDeviceChannelByDeviceSipId - [debug,137] - <==      Total: 0
22:16:00.297 [quartzScheduler_Worker-1] DEBUG c.g.i.m.D.selectDeviceBySerialNumber - [debug,137] - ==>  Preparing: select device_id, device_name, product_id, product_name, user_id, user_name, tenant_id, tenant_name, serial_number,gw_dev_code, firmware_version, status, rssi,is_shadow ,is_simulate,location_way,things_model_value,network_address, network_ip, longitude, latitude, active_time, create_time, update_time, img_url,summary,remark,slave_id from iot_device where serial_number = ?
22:16:00.301 [quartzScheduler_Worker-1] DEBUG c.g.i.m.D.selectDeviceBySerialNumber - [debug,137] - ==> Parameters: 11010200001320000001(String)
22:16:00.304 [quartzScheduler_Worker-1] DEBUG c.g.i.m.D.selectDeviceBySerialNumber - [debug,137] - <==      Total: 1
22:16:00.390 [quartzScheduler_Worker-2] DEBUG c.g.q.m.S.insertJobLog - [debug,137] - ==> Parameters: 设备定时同步(String), SYSTEM(String), deviceJob.syncDeviceStatus(String), 设备定时同步 总共耗时：56毫秒(String), 0(String)
22:16:00.413 [quartzScheduler_Worker-2] DEBUG c.g.q.m.S.insertJobLog - [debug,137] - <==    Updates: 1
22:16:00.498 [quartzScheduler_Worker-1] DEBUG c.g.i.m.T.selectThingsModelList_COUNT - [debug,137] - ==>  Preparing: SELECT count(0) FROM iot_things_model WHERE product_id = ?
22:16:00.502 [quartzScheduler_Worker-1] DEBUG c.g.i.m.T.selectThingsModelList_COUNT - [debug,137] - ==> Parameters: 88(Long)
22:16:00.512 [quartzScheduler_Worker-1] DEBUG c.g.i.m.T.selectThingsModelList_COUNT - [debug,137] - <==      Total: 1
22:16:00.526 [quartzScheduler_Worker-1] DEBUG c.g.i.m.P.updateThingsModelJson - [debug,137] - ==>  Preparing: update iot_product set things_models_json=? where product_id = ?
22:16:00.530 [quartzScheduler_Worker-1] DEBUG c.g.i.m.P.updateThingsModelJson - [debug,137] - ==> Parameters: {}(String), 88(Long)
22:16:00.534 [quartzScheduler_Worker-1] DEBUG c.g.i.m.P.updateThingsModelJson - [debug,137] - <==    Updates: 1
22:16:00.540 [quartzScheduler_Worker-1] DEBUG c.g.s.m.S.selectSipDeviceChannelByDeviceSipId - [debug,137] - ==>  Preparing: select id, tenant_id, tenant_name, product_id, product_name, user_id, user_name, device_sip_id, channel_sip_id, channel_name, register_time, device_type, channel_type, cityCode, civilCode, manufacture, model, owner, block, address, parentId, ipAddress, port, password, PTZType, PTZTypeText, status, longitude, latitude, streamId, subCount, parental, hasAudio, del_flag, create_by, create_time, update_by, update_time, remark from sip_device_channel where device_sip_id = ?
22:16:00.545 [quartzScheduler_Worker-1] DEBUG c.g.s.m.S.selectSipDeviceChannelByDeviceSipId - [debug,137] - ==> Parameters: 11010200001320000001(String)
22:16:00.553 [quartzScheduler_Worker-1] DEBUG c.g.s.m.S.selectSipDeviceChannelByDeviceSipId - [debug,137] - <==      Total: 1
22:16:00.560 [quartzScheduler_Worker-1] DEBUG c.g.s.m.S.updateSipDeviceChannel - [debug,137] - ==>  Preparing: update sip_device_channel SET tenant_id = ?, tenant_name = ?, product_id = ?, product_name = ?, user_id = ?, user_name = ?, device_sip_id = ?, channel_sip_id = ?, channel_name = ?, register_time = ?, device_type = ?, channel_type = ?, cityCode = ?, civilCode = ?, manufacture = ?, model = ?, owner = ?, address = ?, parentId = ?, ipAddress = ?, port = ?, PTZType = ?, status = ?, longitude = ?, latitude = ?, streamId = ?, subCount = ?, parental = ?, hasAudio = ?, del_flag = ?, create_time = ?, update_by = ? where channel_sip_id = ?
22:16:00.563 [quartzScheduler_Worker-1] DEBUG c.g.s.m.S.updateSipDeviceChannel - [debug,137] - ==> Parameters: 1(Long), admin(String), 118(Long), 监控设备(String), 1(Long), admin(String), 11010200001320000001(String), 11010200001320000001(String), IPdome(String), 2024-01-08 09:16:32.0(Timestamp), 132(String), 132(String), 北京市/市辖区/西城区(String), 3402000000(String), Hikvision(String), IP Camera(String), Owner(String), Address(String), 34020000002000000001(String), (String), 0(Integer), 0(Long), 3(Integer), 0.0(BigDecimal), 0.0(BigDecimal), gb_play_11010200001320000001_11010200001320000001(String), 0(Long), 0(Integer), 0(Integer), 0(String), 2023-04-11 09:12:33.0(Timestamp), (String), 11010200001320000001(String)
22:16:00.576 [quartzScheduler_Worker-1] DEBUG c.g.s.m.S.updateSipDeviceChannel - [debug,137] - <==    Updates: 1
22:16:00.577 [quartzScheduler_Worker-1] DEBUG c.g.i.m.D.selectDeviceBySerialNumber - [debug,137] - ==>  Preparing: select device_id, device_name, product_id, product_name, user_id, user_name, tenant_id, tenant_name, serial_number,gw_dev_code, firmware_version, status, rssi,is_shadow ,is_simulate,location_way,things_model_value,network_address, network_ip, longitude, latitude, active_time, create_time, update_time, img_url,summary,remark,slave_id from iot_device where serial_number = ?
22:16:00.579 [quartzScheduler_Worker-1] DEBUG c.g.i.m.D.selectDeviceBySerialNumber - [debug,137] - ==> Parameters: 32061200001180000006(String)
22:16:00.586 [quartzScheduler_Worker-1] DEBUG c.g.i.m.D.selectDeviceBySerialNumber - [debug,137] - <==      Total: 0
22:16:00.594 [quartzScheduler_Worker-1] DEBUG c.g.s.m.S.selectSipDeviceChannelByDeviceSipId - [debug,137] - ==>  Preparing: select id, tenant_id, tenant_name, product_id, product_name, user_id, user_name, device_sip_id, channel_sip_id, channel_name, register_time, device_type, channel_type, cityCode, civilCode, manufacture, model, owner, block, address, parentId, ipAddress, port, password, PTZType, PTZTypeText, status, longitude, latitude, streamId, subCount, parental, hasAudio, del_flag, create_by, create_time, update_by, update_time, remark from sip_device_channel where device_sip_id = ?
22:16:00.601 [quartzScheduler_Worker-1] DEBUG c.g.s.m.S.selectSipDeviceChannelByDeviceSipId - [debug,137] - ==> Parameters: 32061200001180000006(String)
22:16:00.610 [quartzScheduler_Worker-1] DEBUG c.g.s.m.S.selectSipDeviceChannelByDeviceSipId - [debug,137] - <==      Total: 0
22:16:00.612 [quartzScheduler_Worker-1] DEBUG c.g.q.m.S.insertJobLog - [debug,137] - ==>  Preparing: insert into sys_job_log( job_name, job_group, invoke_target, job_message, status, create_time )values( ?, ?, ?, ?, ?, sysdate() )
22:16:00.618 [quartzScheduler_Worker-1] DEBUG c.g.q.m.S.insertJobLog - [debug,137] - ==> Parameters: 监控在线状态更新(String), SYSTEM(String), deviceJob.updateSipDeviceOnlineStatus(90)(String), 监控在线状态更新 总共耗时：588毫秒(String), 0(String)
22:16:00.629 [quartzScheduler_Worker-1] DEBUG c.g.q.m.S.insertJobLog - [debug,137] - <==    Updates: 1
22:16:20.025 [MQTT Rec: server-1764731735789] DEBUG c.g.m.PubMqttCallBack - [connectionLost,53] - =>mqtt 连接丢失
org.eclipse.paho.client.mqttv3.MqttException: Connection lost
	at org.eclipse.paho.client.mqttv3.internal.CommsReceiver.run(CommsReceiver.java:197)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.EOFException: null
	at java.base/java.io.DataInputStream.readByte(DataInputStream.java:272)
	at org.eclipse.paho.client.mqttv3.internal.wire.MqttInputStream.readMqttWireMessage(MqttInputStream.java:92)
	at org.eclipse.paho.client.mqttv3.internal.CommsReceiver.run(CommsReceiver.java:137)
	... 1 common frames omitted
